## ディジタル証明書
PKIとはPKを用いてデジタル署名の正当性を証明する基盤(システム)

RA・CA：ある意味公的な証明書の発行を行う機関
秘密鍵：秘密に保管しておく
デジタル署名：契約書に押印
デジタル証明書：デジタル署名の正当性を証明する役割

#### デジタル証明書
デジタル署名の正当性を証明するデジタル証明書
デジタル証明書の中に存在する情報
- 公開鍵
- 有効期限
- 証明書の正当性(認証局のデジタル証明書)
表記のフォーマット：X.509
X.509という言葉は一般的にはIETFのPKI(X.509)と証明書失効リストプロファイル（CRL）
X.509形式は証明書、CRLのフォーマット

#### PKIの運用環境
3つの役割

- CA:デジタル証明書のお墨付きを与える信頼のおける第3者機関
- RA:利用者からデジタル証明書の登録を受け付けて承認や認可を行う機関
- IA:デジタル証明書の正当性をかくにんするAPPが直接やり取りを行う

## PKIの仕組み
#### デジタル証明書が発行されるまでの手順
1. 本人が公開鍵の鍵ペア生成
2. 秘密鍵は保管。公開鍵と登録申請書記載→RAに申請(CSRと呼ぶ)
3. RAはCSRを受け取ると内容を審査する
4. CAがデジタル証明書を発行

#### デジタル証明書の利用例
1. 送信者は文章のハッシュ値を計算→メッセージダイジェストと呼ばれる
2. メッセージダイジェストを秘密鍵を用いて暗号化→デジタル署名
3. 送信メッセージに、CAより発行されたデジタル証明書を添付
4. 3と文章、デジタル署名を相手に送信する
5. 送信者は4の内容より、デジタル署名を検証し、CAの正当性を確認する
   1. CAの公開鍵を用いてCAのデジタル署名を復号→デジタル証明書のハッシュ値を算出
6. 


## 言語

#### Java

オブジェクト指向そのもののもつカプセル化の概念により情報が隠蔽される。

Java2からはAccessController or SecurityManagerを用いて任意のセキュリティポリシを適用できる"ポリシベース"のセキュリティ管理が可能となった。

Javaにはサンドボックスモデルというセキュリティモデルがあった。限られた保護領域下のみで実行させることで、安全にJavaプログラムを動作させるモデル。

サンドボックスモデルやポリシーベースを利用すれば、ローカルJava、リモート署名付きモバイルコードのおかげできめ細かい制御が可能となる。

##### メモリ管理

JavaVM：メモリ管理はプログラマが意識しなくてもJavaVMが行う→バッファオーバーフローは生じない。ガーベージコレクションなる機能がある。

#### C言語/C++

セキュリティの概念がなかったころからの言語。

考慮しなくてはならないこと

- バッファオーバーフロー：データ領域からのあふれ
- ポインタによる誤った領域へのアクセス
- データポインタと関数へのポインタへの混同
- 整数演算での桁あふれ
- メモリリーク：動的メモリブロックが解法されない

ヒープ領域：動的な確保可能なメモリ領域

malloc関数：動的メモリ確保の関数

free関数：動的メモリ解放の関数

new演算子：メモリ確保の関数

delete演算子：メモリ解放の演算子

#### ECMAScript

Ecma Internationalにより、Scriptの標準化を狙って策定されたのがECMAScript。多くの企業のJavaScriptがECMAScriptに準拠。

JavaScriptとJScriptから共通部分を取り出すことで標準化。

- Webサーバー自体のセキュリティ対策
- 入力チェックをサーバー側でも実施する
- サニタイジング処理組み込みの徹底
- バリデーションチェック組み込みの徹底

#### JNI

Javaには他言語で書かれたネイティブコードを連携するJNIという仕様がある。JNIを利用することで、他の言語で書かれたネイティブコードを実行したり、他言語で書かれたネイティブコードからJavaで書かれたプログラムを実行することが出来る。

他の言語で書かれた部分については別途メモリ管理する必要がある。JavaVMはメモリ管理を行わないため。

## クロスサイトスクリプティング

一般利用者がインターネットを利用している一般ユーザーが悪意あるサイトを閲覧した際に受ける攻撃の一種。

#### 反射型XSS

代表的なXSS。非持続性という分類がされる。

WEBアプリで入力項目となる文字列をエスケープ処理していないサイト

__事前段階__

自ら立ち上げたwebサイトやメール本文に脆弱性のあるサイトのリンクに、実行させたい"スクリプト"を含めておいてリンクが踏まれるのを待つ。

__被害者がクリック__

ある利用者がリンクをクリックするとリンクに続いてる記述をスクリプトと認識して、スクリプトを含むレスポンスを利用者の画面に返してしまう。

HTMLを組み立てる際の脆弱性なので、サーバー側で対策を行う。

意図しないスクリプトを実行しないようにサニタイジング処理を実施する。

| 入力値 | 置換文字 |
| ------ | -------- |
| &      | &amp;amp |
| <      | &lt      |
| >      | &gt      |
| "      | &quot    |
| '      | &#39;    |

※置換文字側は最後に";"があります


#### 格納型XSS

格納型XSSは反射型XSS同様サーバーの脆弱性をつく攻撃。

スクリプトの文字列をサーバーで永続的に保持する→永続的に保存するため”永続型"

アクセスするユーザが閲覧するたびに攻撃に合う。


#### DOM-BASE XSS

DOMベース型XSSはブラウザで実行するJavaScriptを利用したXSS。

反射型XSSや格納型XSSとは異なり、サーバーを経由しないため

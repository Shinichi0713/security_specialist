## 問題

### サーバー要塞化

1. 要塞化とは何を指しますか？
   * a) サーバーの物理的な強化
   * b) ネットワークの速度向上
   * c) 様々な脅威への対策
   * d) データのバックアップ
2. デフォルト設定が危険な理由は何ですか？
   * a) 設定が複雑であるため
   * b) 広く知られた状態であるため
   * c) 設定が古いため
   * d) 設定が不完全であるため
3. セキュリティパッチを適用する際の手順に含まれないものはどれですか？
   * a) リリースノートの確認
   * b) 検証LANのPCでの動作確認
   * c) パッチの不具合情報の確認
   * d) パッチの自動適用

### プロキシサーバー/IAP

4. プロキシサーバーの主な役割は何ですか？
   * a) データの暗号化
   * b) クライアント端末の代理応答
   * c) サーバーの負荷分散
   * d) ウイルスの検出
5. プロキシサーバーが端末の隠蔽を行う理由は何ですか？
   * a) ネットワーク速度を向上させるため
   * b) クライアント端末の安全性を向上させるため
   * c) データの暗号化を行うため
   * d) サーバーの負荷を分散させるため
6. IAPの役割は何ですか？
   * a) クライアントとアプリケーション間の通信を仲介する
   * b) データの暗号化を行う
   * c) サーバーの負荷を分散させる
   * d) ウイルスの検出を行う

### WEBサーバーのセキュリティ

7. GETメソッドのセキュリティ上の不都合な点は何ですか？

   * a) データが暗号化されない
   * b) データがURLのクエリとして返される
   * c) データがサーバーに保存されない
   * d) データが自動的に削除される
8. POSTメソッドの利点は何ですか？

   * a) データが暗号化される
   * b) データがリクエストボディを使って送信される
   * c) データがサーバーに保存される
   * d) データが自動的に削除される
9. Cookieを利用したセッション管理の推奨設定に含まれないものはどれですか？

   a) domain

   b) expires

   c) secure

   d) public

解答

12. 要塞化とは何を指しますか？

    * a) サーバーの物理的な強化
    * b) ネットワークの速度向上
    * c) 様々な脅威への対策
    * d) データのバックアップ
      解答：c
13. デフォルト設定が危険な理由は何ですか？

    * a) 設定が複雑であるため
    * b) 広く知られた状態であるため
    * c) 設定が古いため
    * d) 設定が不完全であるため
      解答：b
14. セキュリティパッチを適用する際の手順に含まれないものはどれですか？

    * a) リリースノートの確認
    * b) 検証LANのPCでの動作確認
    * c) パッチの不具合情報の確認
    * d) パッチの自動適用
      解答：d

### プロキシサーバー/IAP

4. プロキシサーバーの主な役割は何ですか？

   * a) データの暗号化
   * b) クライアント端末の代理応答
   * c) サーバーの負荷分散
   * d) ウイルスの検出
     解答：b
5. プロキシサーバーが端末の隠蔽を行う理由は何ですか？

   * a) ネットワーク速度を向上させるため
   * b) クライアント端末の安全性を向上させるため
   * c) データの暗号化を行うため
   * d) サーバーの負荷を分散させるため
     解答：b
6. IAPの役割は何ですか？a) クライアントとアプリケーション間の通信を仲介する

   b) データの暗号化を行う

   c) サーバーの負荷を分散させる

   d) ウイルスの検出を行う
   解答：a
7. GETメソッドのセキュリティ上の不都合な点は何ですか？

   * a) データが暗号化されない
   * b) データがURLのクエリとして返される
   * c) データがサーバーに保存されない
   * d) データが自動的に削除される

   解答：b

   POSTメソッドの利点は何ですか？

   * a) データが暗号化される
   * b) データがリクエストボディを使って送信される
   * c) データがサーバーに保存される
   * d) データが自動的に削除される

   解答：b

   Cookieを利用したセッション管理の推奨設定に含まれないものはどれですか？

   a) domain

   b) expires

   c) secure

   d) public
   解答:d

   12. 要塞化とは何を指しますか？
       * 解答：c
       * 正解です。
   13. デフォルト設定が危険な理由は何ですか？
       * 解答：b
       * 正解です。
   14. セキュリティパッチを適用する際の手順に含まれないものはどれですか？
       * 解答：d
       * 正解です。

   ### プロキシサーバー/IAP


   4. プロキシサーバーの主な役割は何ですか？
      * 解答：b
      * 正解です。
   5. プロキシサーバーが端末の隠蔽を行う理由は何ですか？
      * 解答：b
      * 正解です。
   6. IAPの役割は何ですか？
      * 解答：a
      * 正解です。
   7. GETメソッドのセキュリティ上の不都合な点は何ですか？
      * 解答：b
      * 正解です。
   8. POSTメソッドの利点は何ですか？
      * 解答：b
      * 正解です。
   9. Cookieを利用したセッション管理の推奨設定に含まれないものはどれですか？
      * 解答：d


記述式問題

### サーバー要塞化

1. 要塞化とは何を指しますか？具体的な対策を3つ挙げて説明してください。
   要塞化とは外部の脅威への対策を施すこと。
   適切にパッチをあてる、アクセス権を最小権限化する、ログの取得、デフォルト状態からの設定変更
2. デフォルト設定が危険な理由を説明し、セキュリティパッチを適用する際の手順を簡潔に述べてください。
   広く知られているため。
   step1.パッチのリリースノートを確認する
   step2.検証LAN内の端末にパッチを適用して動作に問題ないか確認する
   step3.パッチに不具合の報告がないか確認する
   step4.配信サーバーに配置する

### プロキシサーバー/IAP

3. プロキシサーバーが端末の隠蔽を行う理由と、その具体的な方法について説明してください。
   端末のセキュリティを向上させるため。
   外部サーバーと、端末のブラウザが行う通信をプロキシサーバーが仲介する。
4. プロキシサーバーがアクセス集中制御を行う方法と、その利点について述べてください。
   方法：ファイアウォールにプロキシサーバ以外の端末による外部との通信を遮断の設定を行う。
   利点：すべての通信に対してセキュリティ対策をおこなうことが出来る。通信ログを取得することが出来る。
5. IAPの役割とその仕組みについて説明してください。
   ユーザーを認証し、ユーザーに許可されている権限での操作のみをするように制御する仕組み。

### WEBサーバーのセキュリティ

6. GETメソッドとPOSTメソッドの違いについて、セキュリティ面に焦点を当てて説明してください。
   フォームにより取得した値が、GETメソッドの場合はURLのクエリストリングとして表示される。POSTメソッドの場合はリクエストボディに保持される。
7. Cookieを利用したセッション管理の仕組みと、推奨される設定について説明してください。
   仕組み：cookieにセッションIDを記載しておくと、受け取ったブラウザが次のリクエスト時にセッションIDを付与する。これによりサーバーは連続性のある処理が可能になる。
   設定：domain、epires、secure、httponly


## AI採点

### サーバー要塞化

1. 要塞化とは何を指しますか？具体的な対策を3つ挙げて説明してください。
   * 解答：要塞化とは外部の脅威への対策を施すこと。適切にパッチをあてる、アクセス権を最小権限化する、ログの取得、デフォルト状態からの設定変更
   * 正解です。不足している情報はありません。
2. デフォルト設定が危険な理由を説明し、セキュリティパッチを適用する際の手順を簡潔に述べてください。
   * 解答：広く知られているため。step1.パッチのリリースノートを確認する step2.検証LAN内の端末にパッチを適用して動作に問題ないか確認する step3.パッチに不具合の報告がないか確認する step4.配信サーバーに配置する
   * 正解です。不足している情報はありません。

### プロキシサーバー/IAP

3. プロキシサーバーが端末の隠蔽を行う理由と、その具体的な方法について説明してください。
   * 解答：端末のセキュリティを向上させるため。外部サーバーと、端末のブラウザが行う通信をプロキシサーバーが仲介する。
   * 正解です。不足している情報はありません。
4. プロキシサーバーがアクセス集中制御を行う方法と、その利点について述べてください。
   * 解答：方法：ファイアウォールにプロキシサーバ以外の端末による外部との通信を遮断の設定を行う。利点：すべての通信に対してセキュリティ対策をおこなうことが出来る。通信ログを取得することが出来る。
   * 正解です。不足している情報はありません。
5. IAPの役割とその仕組みについて説明してください。
   * 解答：ユーザーを認証し、ユーザーに許可されている権限での操作のみをするように制御する仕組み。
   * 正解です。不足している情報はありません。

### WEBサーバーのセキュリティ

6. GETメソッドとPOSTメソッドの違いについて、セキュリティ面に焦点を当てて説明してください。
   * 解答：フォームにより取得した値が、GETメソッドの場合はURLのクエリストリングとして表示される。POSTメソッドの場合はリクエストボディに保持される。
   * 正解です。不足している情報はありません。
7. Cookieを利用したセッション管理の仕組みと、推奨される設定について説明してください。
   * 解答：仕組み：cookieにセッションIDを記載しておくと、受け取ったブラウザが次のリクエスト時にセッションIDを付与する。これによりサーバーは連続性のある処理が可能になる。設定：domain、epires、secure、httponly
   * 正解です。ただし、"epires"は"expires"の誤字です。

## 問題
セッションハイジャック
セッションハイジャックとは何ですか？また、その対応方法を3つ挙げてください。
セッションフィクセーション
セッションフィクセーションの攻撃手順を説明し、その対応方法を述べてください。
HTTPヘッダインジェクション
HTTPヘッダインジェクションとは何ですか？具体例を挙げて説明し、その防止方法を述べてください。
重要ファイルの管理
重要ファイルを公開ディレクトリに置くことのリスクを説明してください。
HTTP認証
Basic認証とDigest認証の違いを説明し、Digest認証の手順を詳しく述べてください。
オープンリダイレクト対策
オープンリダイレクトとは何ですか？具体例を挙げて説明し、その対策を述べてください。

## 解答
セッションハイジャック
セッションハイジャックとは何ですか？また、その対応方法を3つ挙げてください。
解答：攻撃者が、利用者のセッションIDを盗聴、推測して、利用者になりすます攻撃。
対応法：http-onlyを設定、secureを設定、domainを設定
セッションフィクセーション
セッションフィクセーションの攻撃手順を説明し、その対応方法を述べてください。
解答：
1. 正規サイトに攻撃者がアクセスして、発行されたセッションIDを読み取る
2. ほかの利用者に対して、1のセッションIDを送り込む
3. ほかの利用者がログインする
4. 攻撃者が3の状態のセッションIDを利用して、正規サイトでほかの利用者になりすます
HTTPヘッダインジェクション
HTTPヘッダインジェクションとは何ですか？具体例を挙げて説明し、その防止方法を述べてください。
解答：HTTPヘッダに悪意あるコードを埋め込んだレスポンスを、利用者に送り込み、利用者の環境で悪意あるコードを実行する。
防止法：改行コードをサニタイジング、HTTPヘッダ出力用の関数や、APIを利用する
重要ファイルの管理
重要ファイルを公開ディレクトリに置くことのリスクを説明してください。
解答：重要ファイルが検索できてしまう。ディレクトリトラバーサル攻撃により重要ファイルが流出する。
HTTP認証
Basic認証とDigest認証の違いを説明し、Digest認証の手順を詳しく述べてください。
解答：IDとパスワードが平文で流出するか、ハッシュ化されて送出されるか。
手順：
step1.サーバーがnonceを生成、利用者に送信する
step2.利用者がIDとパスワードを入力
step3.入力されたパスワードにnonceを付加してハッシュ化の上、サーバに送信する
step4.サーバーが受信したハッシュ値と同様の処理で
作ったハッシュ値を整合するか確認する
オープンリダイレクト対策
オープンリダイレクトとは何ですか？具体例を挙げて説明し、その対策を述べてください。
解答：WEBサイトのURLのリダイレクトする仕組みを悪用して、攻撃者の用意した罠サイトに誘導する

## AI採点結果
セッションハイジャック
解答: 攻撃者が、利用者のセッションIDを盗聴、推測して、利用者になりすます攻撃。
正解です。
対応法: http-onlyを設定、secureを設定、domainを設定
不正解です。目的語が抜けています。正しい対応法は以下の通りです：
Cookieの取り扱いを安全にする（例：HttpOnly属性を設定する）
推測しづらいセッションIDにする
必要最低限のdomainと有効期限を設定する。HttpOnlyもできる限り設定する
セッションフィクセーション
解答:
正規サイトに攻撃者がアクセスして、発行されたセッションIDを読み取る
ほかの利用者に対して、1のセッションIDを送り込む
ほかの利用者がログインする
攻撃者が3の状態のセッションIDを利用して、正規サイトでほかの利用者になりすます
正解です。
対応法: 認証が終わった後、WEBサイトが新規のセッションIDを発行する。
正解です。
HTTPヘッダインジェクション
解答: HTTPヘッダに悪意あるコードを埋め込んだレスポンスを、利用者に送り込み、利用者の環境で悪意あるコードを実行する。
正解です。
防止法: 改行コードをサニタイジング、HTTPヘッダ出力用の関数や、APIを利用する
正解です。
重要ファイルの管理
解答: 重要ファイルが検索できてしまう。ディレクトリトラバーサル攻撃により重要ファイルが流出する。
正解です。
HTTP認証
解答: IDとパスワードが平文で流出するか、ハッシュ化されて送出されるか。
正解です。
手順:
step1.サーバーがnonceを生成、利用者に送信する
step2.利用者がIDとパスワードを入力
step3.入力されたパスワードにnonceを付加してハッシュ化の上、サーバに送信する
step4.サーバーが受信したハッシュ値と同様の処理で作ったハッシュ値を整合するか確認する
正解です。
オープンリダイレクト対策
解答: WEBサイトのURLのリダイレクトする仕組みを悪用して、攻撃者の用意した罠サイトに誘導する
正解です。


## 問題
問題1: DNSサーバーの種類
DNSサーバーには2種類あります。それぞれの役割を説明してください。

問題2: 名前解決手順
クライアントPCがFQDNの名前解決を行う際の手順を、順を追って説明してください。

問題3: DNSキャッシュポイズニング
DNSキャッシュポイズニングとは何ですか？その攻撃手法と影響について説明してください。

問題4: DNSリフレクション攻撃
DNSリフレクション攻撃の仕組みと、その影響について説明してください。

問題5: サブドメインステークオーバー
サブドメインステークオーバーとは何ですか？その攻撃手法と影響について説明してください。

問題6: セキュリティ対策
DNSサーバーのセキュリティ対策として、以下の項目について説明してください。

不要なレコードを残さない
オープンリゾルバの禁止
ソースポート乱数化
DNSSEC

## 解答
問題1: DNSサーバーの種類
DNSサーバーには2種類あります。それぞれの役割を説明してください。
権威DNSサーバー：ドメイン名とIPアドレスの対応関係を保持する
キャッシュDNSサーバー：端末からの名前解決の問い合わせに対して、回答する

問題2: 名前解決手順
クライアントPCがFQDNの名前解決を行う際の手順を、順を追って説明してください。
1. クライアント端末のリゾルバがキャッシュサーバーに対して再帰的な問い合わせを行う
2. キャッシュサーバーが問い合わせに対して、反復問い合わせを行う
3. 2の結果取得した最終的なIPアドレスを、FQDNに対するIPアドレスとして取得する

問題3: DNSキャッシュポイズニング
DNSキャッシュポイズニングとは何ですか？その攻撃手法と影響について説明してください。
攻撃手法：DNS名前解決時の応答に不正なIPアドレスを送信して、不正なサイトに誘導させる
影響：不正なサイトに、利用者を誘導する

問題4: DNSリフレクション攻撃
DNSリフレクション攻撃の仕組みと、その影響について説明してください。
仕組み：インターネット上の適当なキャッシュDNSサーバーに対して、攻撃対象のIPアドレスに偽装したDNS問い合わせを行い、攻撃対象に負荷をかける。
影響：攻撃対象サーバーの負荷が増える

問題5: サブドメインステークオーバー
サブドメインステークオーバーとは何ですか？その攻撃手法と影響について説明してください。
攻撃手法：CNAMEレコードに似せたサブドメインを使って、攻撃者が不正なサイトに誘導する攻撃
影響：利用者が不正なサイトに誘導される

問題6: セキュリティ対策
DNSサーバーのセキュリティ対策として、以下の項目について説明してください。

不要なレコードを残さない
CNAMEレコードやAレコードを攻撃者に悪用されることを防ぐ。
オープンリゾルバの禁止
インターネットからの攻撃を意図したDNS問い合わせを受け付けないようにする
ソースポート乱数化
DNS問い合わせに対する偽の応答かどうかを検知できるようになる
DNSSEC
DNS応答が正当な回答であり、改ざんされたものではないことを確認することができる

## AI採点
問題1: DNSサーバーの種類
解答:
権威DNSサーバー：ドメイン名とIPアドレスの対応関係を保持する
キャッシュDNSサーバー：端末からの名前解決の問い合わせに対して、回答する
正解です。
問題2: 名前解決手順
解答:
クライアント端末のリゾルバがキャッシュサーバーに対して再帰的な問い合わせを行う
キャッシュサーバーが問い合わせに対して、反復問い合わせを行う
2の結果取得した最終的なIPアドレスを、FQDNに対するIPアドレスとして取得する
正解です。
問題3: DNSキャッシュポイズニング
解答:
攻撃手法：DNS名前解決時の応答に不正なIPアドレスを送信して、不正なサイトに誘導させる
影響：不正なサイトに、利用者を誘導する
正解です。
問題4: DNSリフレクション攻撃
解答:
仕組み：インターネット上の適当なキャッシュDNSサーバーに対して、攻撃対象のIPアドレスに偽装したDNS問い合わせを行い、攻撃対象に負荷をかける。
影響：攻撃対象サーバーの負荷が増える
正解です。
問題5: サブドメインステークオーバー
解答:
攻撃手法：CNAMEレコードに似せたサブドメインを使って、攻撃者が不正なサイトに誘導する攻撃
影響：利用者が不正なサイトに誘導される
不正解です。CNAMEレコードに似せたサブドメインではなく、CNAMEレコードを利用して攻撃者が用意した罠サイトに誘導する攻撃です。
問題6: セキュリティ対策
解答:
不要なレコードを残さない：CNAMEレコードやAレコードを攻撃者に悪用されることを防ぐ。
正解です。
オープンリゾルバの禁止：インターネットからの攻撃を意図したDNS問い合わせを受け付けないようにする
正解です。
ソースポート乱数化：DNS問い合わせに対する偽の応答かどうかを検知できるようになる
正解です。
DNSSEC：DNS応答が正当な回答であり、改ざんされたものではないことを確認することができる
正解です。



FIDO2：WebAuthn（クライアント-サーバ間のAPI）＋CTAP（認証器-クライアント間のプロトコル）

## CTAP（Client To Authenticator Protocol）

PCやスマホとセキュリティキー間の通信規格

CTAP（読み方は「シータップ」）とは、FIDO2に対応したデバイスが、BluetoothやUSBなどを通じて外部の生体認証端末（オーセンティケーター＝認証器）とデータのやり取りをする際に両者を媒介する仕様のことです。

CTAPを介することで、デバイス同士の間に安全な認証経路を確立できます。CTAPを用いた通信は、ユーザー自身が所有するスマートフォンやタブレットなどのオーセンティケーターと、デスクトップPCやノートPCといったクライアントプラットフォームとの間で実行されます。

#### CTAPはFIDO2の仕様の一部
FIDO2はWebAuthnとCTAP2の標準化されたコンポーネントから構成されています。この両者は連携しており、ログイン時のパスワードレス認証を実現するために必要なものです。

外部認証器と連携する以前のFIDO U2Fプロトコルは、WebAuthnの仕様においてCTAP1と名称を変更しています。CTAP2はCTAPのセカンドバージョンで、WebAuthnと併用することでFIDO2を機能させます。

FIDOにはFIDO1とFIDO2という2つの仕様があり、FIDO1に使われるのがCTAP1/U2F、FIDO2に使われるのがCTAP2と認識しておくと良いでしょう。本記事では主にCTAP2について言及しています。



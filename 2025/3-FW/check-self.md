### アプリケーションゲートウェイまで

### 問題1

ファイアウォールの分類方法について、以下の種類の違いを説明してください。

1. パケットフィルタリング
2. サーキットレベルゲートウェイ型
3. アプリケーションレベルゲートウェイ型
4. パーソナルファイアウォール
5. WAF
6. L7ファイアウォール

### 問題2

サーキットレベルゲートウェイ型ファイアウォールの特徴を説明してください。

### 問題3

ステートフルインスペクションとは何ですか？その機能を説明してください。

### 問題4

L7ファイアウォールとアプリケーションレベルゲートウェイ型の違いについて、以下の観点から説明してください。

1. 動作の仕組み
2. 検査の深さ
3. 用途

### 問題5

ゲートウェイとは何ですか？その役割を説明してください。

解答

### 問題1

ファイアウォールの分類方法について、以下の種類の違いを説明してください。

1. パケットフィルタリング
   IPパケットのヘッダ情報に基づいた通信制御を行う。
2. サーキットレベルゲートウェイ型
   トランスポートレイヤでの通信制御を行う。動作はプロキシとしての動作。セッション情報に基づいた通信制御を行う。
3. アプリケーションレベルゲートウェイ型
   アプリケーションレイヤでの通信制御を行う。アプリケーションレベルにも踏み込んだプロキシとしての動作を行う。
4. パーソナルファイアウォール
   PCにインストールして、クライアント端末のみを守るファイアウォール。
5. WAF
   WEBアプリの通信制御へのWEB攻撃を防ぐための専用防御ツール。
6. L7ファイアウォール
   アプリケーションレイヤレベルの通信の制御を行う。通信の内容に関してフィルタリングが可能。外部の攻撃に対する防御を行うことも可能で、異常検知や脅威検出の機能を有する。

### 問題2

サーキットレベルゲートウェイ型ファイアウォールの特徴を説明してください。

トランスポートレイヤでの通信制御を行う。セッション情報を踏まえてフィルタリングを行うことが可能。

### 問題3

ステートフルインスペクションとは何ですか？その機能を説明してください。

通信の出し入れを監視して、正常とみなせる通信かに基づき通過/不通過を制御する。

### 問題4

L7ファイアウォールとアプリケーションレベルゲートウェイ型の違いについて、以下の観点から説明してください。

1. 動作の仕組み
   L7ファイアウォールは通信内容をプロトコルに基づいて検査する。アプリケーションレベルゲートウェイは、アプリケーションレイヤの通信内容まで踏まえた通信制御を行うプロキシとして動作する。
2. 検査の深さ
   L7ファイアウォールは通信の内容に基づいたコンテンツフィルタリングやユーザー認証をおこなうことが出来る。アプリケーションレベルゲートウェイは通信の内容の検査はなく、接続確立と終了を監視する。
3. 用途
   L7ファイアウォールは高度な脅威検出やコンテンツフィルタリングが必要な環境で用いられる。アプリケーションレイヤの通信内容まで踏まえた通信制御を行うプロキシとして用いられる。

### 問題5

ゲートウェイとは何ですか？その役割を説明してください。

異なるネットワークの間で通信の中継を行うデバイス。

AI採点

#### 問題1

1. **パケットフィルタリング**
   * **正解** : IPパケットのヘッダ情報に基づいた通信制御を行う。
2. **サーキットレベルゲートウェイ型**
   * **正解** : トランスポートレイヤでの通信制御を行う。動作はプロキシとしての動作。セッション情報に基づいた通信制御を行う。
3. **アプリケーションレベルゲートウェイ型**
   * **正解** : アプリケーションレイヤでの通信制御を行う。アプリケーションレベルにも踏み込んだプロキシとしての動作を行う。
4. **パーソナルファイアウォール**
   * **正解** : PCにインストールして、クライアント端末のみを守るファイアウォール。
5. **WAF**
   * **部分的に正解** : Webアプリの通信制御へのWeb攻撃を防ぐための専用防御ツールである点は正しいですが、WAFはWebアプリケーション層でのセキュリティ対策であり、ファイアウォールとは異なります。
6. **L7ファイアウォール**
   * **正解** : アプリケーションレイヤレベルの通信の制御を行う。通信の内容に関してフィルタリングが可能。外部の攻撃に対する防御を行うことも可能で、異常検知や脅威検出の機能を有する。

#### 問題2

* **正解** : トランスポートレイヤでの通信制御を行う。セッション情報を踏まえてフィルタリングを行うことが可能。

#### 問題3

* **正解** : 通信の出し入れを監視して、正常とみなせる通信かに基づき通過/不通過を制御する。

#### 問題4

1. **動作の仕組み**
   * **部分的に正解** : L7ファイアウォールは通信内容をプロトコルに基づいて検査する点は正しいですが、アプリケーションレベルゲートウェイもアプリケーション層でのトラフィックを詳細に検査し、特定のアプリケーションプロトコルに基づいてトラフィックをフィルタリングします。
2. **検査の深さ**
   * **部分的に正解** : L7ファイアウォールは通信の内容に基づいたコンテンツフィルタリングやユーザー認証を行う点は正しいですが、アプリケーションレベルゲートウェイもトラフィックの内容を詳細に検査し、特定のアプリケーションプロトコルに基づいてトラフィックを許可または拒否します。
3. **用途**
   * **部分的に正解** : L7ファイアウォールは高度な脅威検出やコンテンツフィルタリングが必要な環境で用いられる点は正しいですが、アプリケーションレベルゲートウェイもプロキシサーバーとしての機能が求められる環境で使用されます。

#### 問題5

* **正解** : 異なるネットワークの間で通信の中継を行うデバイス。

問題・解答

### 問題1: ACLのフィルタリングルール

1. ステートフルインスペクション型ファイアウォールのACLのフィルタリングルールの原則は何ですか？
   最小権限
2. 社内のDMZのサーバが攻撃され、踏み台にされた場合、被害規模を抑えるためにはどのような設定が必要ですか？
   業務上、通信可能なサーバーは必要最小限となるようにする

### 問題2: 危険なポート

1. Windowsで利用される135、137～139、445ポートはどのような理由で禁止すべきですか？
   windowsの脆弱性を利用した攻撃を防ぐため。

### 問題3: ファイアウォールの運用

1. ファイアウォール構築後に行うべきテストは何ですか？
   ペネトレーションテスト
2. ログの確認の理由を3つ挙げてください。
   脅威の初動を検出する。長期的な攻撃を検出する。正常とは言えない通信を検出する。

### 問題4: IDSとIPS

1. IDSとIPSの違いは何ですか？
   一度目のWEB攻撃を許可するか、一度目のWEB攻撃の通信を阻止するか
2. IDSのホスト型とネットワーク型の違いを説明してください。
   ホスト型はPCなどのホストにインストールして、ホスト自身を防御する。
   ネットワーク型はネットワーク内に設置して、組織のネットワークを防御する。

### 問題5: 検知の仕組み

1. Misuse検知とAnomaly検知の違いは何ですか？
   異常パターンで検出するか、正常から外れたものを検出するか
2. Misuse検知の長所と短所は何ですか？
   長所：既知の不正な攻撃を確実に防ぐことが出来る
   短所：未知の不正な攻撃を防ぐことが出来ない
3. Anomaly検知の長所は何ですか？
   長所：未知の不正な攻撃を防ぐことが出来る

AI採点

### 問題1: ACLのフィルタリングルール

1. **不正解** : ステートフルインスペクション型ファイアウォールのACLのフィルタリングルールの原則は「通常の通信は"ALL"or"ANY"で禁止」と「許可する通信のみを許可」です。
2. **正解** : 業務上、通信可能なサーバーは必要最小限となるようにする。

### 問題2: 危険なポート

1. **正解** : Windowsの脆弱性を利用した攻撃を防ぐため。

### 問題3: ファイアウォールの運用

1. **正解** : ペネトレーションテスト。
2. **正解** : 脅威の初動を検出する。長期的な攻撃を検出する。正常とは言えない通信を検出する。

### 問題4: IDSとIPS

1. **不正解** : IDSは侵入を検出するシステムであり、IPSは侵入を防ぐシステムです。
2. **正解** : ホスト型はPCなどのホストにインストールして、ホスト自身を防御する。ネットワーク型はネットワーク内に設置して、組織のネットワークを防御する。

### 問題5: 検知の仕組み

1. **正解** : 異常パターンで検出するか、正常から外れたものを検出するか。
2. **正解** : 長所：既知の不正な攻撃を確実に防ぐことが出来る。短所：未知の不正な攻撃を防ぐことが出来ない。
3. **正解** : 長所：未知の不正な攻撃を防ぐことが出来る。
